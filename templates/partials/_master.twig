<!doctype html>
<html lang="{{ app.request.locale }}">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        {# make sure we always display a proper title: The record's title if there is one, appended with the
           sitename. If there is no title, we append the sitename with the payoff, if there is one. #}
        <title>
            {#{%- if record.title is defined %}{{ record.title|striptags }} | {% endif -%}
                {{ app.config.get('general/sitename') -}}
            {% if record.title is not defined and app.config.get('general/payoff') %} | {{ app.config.get('general/payoff') }}{% endif -%}#}
        </title>

        <!--JQUERY LIBARIES + HTML5 SHIV-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="{{ asset('build/js/jquery-ui-1.10.4.custom.min.js') }}"></script>
        <link rel="stylesheet" href="{{ asset('build/css/jquery-ui-1.10.4.custom.css') }}">

        <link rel="stylesheet" href="{{ asset('build/css/cssreset-min.css') }}">
        <link rel="stylesheet" href="{{ asset('build/css/style.css') }}">

        <!-- jScrollPane -->
        <link href="{{ asset('build/customscroll/jquery.mCustomScrollbar.css') }}" rel="stylesheet">
        <script src="{{ asset('build/customscroll/jquery.mCustomScrollbar.concat.min.js') }}"></script>

        <!--jQuery MobileButton-->
        <link href="{{ asset('build/mobilebutton/jquery.mobilebutton.css') }}" rel="stylesheet">
        <script src="{{ asset('build/mobilebutton/jquery.mobilebutton.js') }}"></script>

        <!--jQuery.cookie-->
        <script src="{{ asset('build/js/jquery.cookie-1.4.1.min.js') }}"></script>

        <!--PLAYLIST PLUGIN-->
        <script src="{{ asset('build/js/jquery.musicserver-player.js') }}"></script>
        <script src="{{ asset('build/js/jquery.musicserver.js') }}"></script>
        <link href="{{ asset('build/qtip/jquery.qtip.css') }}" rel="stylesheet">
        <script src="{{ asset('build/playlists/settings.js') }}"></script>

        {% block headincludes %}
        {% endblock headincludes %}

        {# TODO: convert all to sass #}
        <style>
            html, body {
                background: url(http://i.telegraph.co.uk/multimedia/archive/03058/genesis_3058306b.jpg) no-repeat center center fixed;
                background-size: cover;
                min-height: 100%;
                height: 100%;
            }

            #container {
                height: 100%;
            }

            #flexcanvas{
                width: 100%;
                height: 600px !important;
            }

            .rowParent, .columnParent{
                display: -webkit-box;
                display: -ms-flexbox;
                display: -webkit-flex;
                display: flex;
                -webkit-box-direction: normal;
                -webkit-box-orient: horizontal;
                -webkit-flex-direction: row;
                -ms-flex-direction: row;
                flex-direction: row;
                -webkit-flex-wrap: nowrap;
                -ms-flex-wrap: nowrap;
                flex-wrap: nowrap;
                -webkit-box-pack: start;
                -webkit-justify-content: flex-start;
                -ms-flex-pack: start;
                justify-content: flex-start;
                -webkit-align-content: stretch;
                -ms-flex-line-pack: stretch;
                align-content: stretch;
                -webkit-box-align: stretch;
                -webkit-align-items: stretch;
                -ms-flex-align: stretch;
                align-items: stretch;
            }

            .columnParent{
                -webkit-box-orient: vertical;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
            }

            .flexChild{
                -webkit-box-flex: 1;
                -webkit-flex: 1;
                -ms-flex: 1;
                flex: 1 1 auto;
                -webkit-align-self: auto;
                -ms-flex-item-align: auto;
                align-self: auto;
            }


            #player-wrap{
                -webkit-box-flex: 0;
                -webkit-flex: 0 0 auto;
                -ms-flex: 0 0 auto;
                flex: 0 0 auto; height: 120px;
                background-color: #fff;
            }


            #sidebar{
                -webkit-box-flex: 0;
                -webkit-flex: 0 0 auto;
                -ms-flex: 0 0 auto;
                flex: 0 0 auto; width: 365px;
                background-color: #323232;
            }

            #content-wrap {
                position: relative;
            }

            #content {
                overflow: auto;
            }

            #side-buttons{
                -webkit-box-flex: 0;
                -webkit-flex: 0 0 auto;
                -ms-flex: 0 0 auto;
                flex: 0 0 auto; height: 75px;
            }

            #rowChild9389{
                max-width: 300px;
            }

            .text-right {
                text-align: right;
            }
        </style>
    </head>
    <body>

        {% block body %}
            <div id="container" class="flexChild columnParent">

                <div id="columnChild81878" class="flexChild rowParent">
                    <div id="sidebar" class="flexChild columnParent">
                        <div id="side-tracks" class="flexChild">
                            <ul class="mejs-list"></ul>
                        </div>
                        <div id="side-buttons" class="flexChild">
                            <a id="settings" title="Configure Music Server"></a>
                            <a id="info" title="How to use Music Server"></a>
                            <a id="quality" title="Set music quality to low" Class="high"></a>
                            <!--<a id="download" title="Download current song"></a>-->
                            <a id="lock" title="Lock the playlist"></a>
                            <a id="more" title="View more options"></a>
                        </div>
                    </div>

                    <div id="content-wrap" class="flexChild">
                        <div id="content" style="display:none">
                            <div id="more-options">
                                <img src="//earthenergyreader.files.wordpress.com/2014/02/british_convoy_of_sixty-three_ships_and_all_but_eight_ships_captured_by_spanish_and_french_under_cordova.jpg?w=10&h=10">
                            </div>
                            <div id="config" style="display:none;">
                                <table>
                                    <tbody>
                                    <tr>
                                        <td style="padding-right: 15px;"><span>Server name:</span></td>
                                        <td style="padding: 3px;"><input name="servername" type="text" required id="servername-input"></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-right: 15px;"><span>Lay-out:</span></td>
                                        <td style="padding: 3px;"><select id="layout-select" onchange="location=this.options[this.selectedIndex].value;">
                                                <option>Default</option>
                                            </select></td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid #000;">
                                        <td style="padding-right: 15px;"><span>Middle:</span></td>
                                        <td style="padding: 3px;"><select id="middle-select">
                                                <option selected value="artist">Artist</option>
                                            </select></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-right: 15px;"><span>Playlist:</span></td>
                                        <td style="padding: 3px;"><select id="playlist-select">
                                                <option selected value="allitems">Default</option>
                                            </select></td>
                                    </tr>
                                    <tr>
                                        <td style="padding-right: 15px;"><span>Email:</span></td>
                                        <td style="padding: 3px;"><input id="contact-input" name="email" required type="email"></td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 3px;"></td>
                                        <td style="padding: 3px;"><input id="contact-submit" name="submit" type="submit" value="Confirm"></td>
                                    </tr>
                                    <tr><td><br></td></tr>
                                    <tr>
                                        <td style="padding-right: 15px;"><span>Live edit mode</span></td>
                                        <td style="padding: 3px;" class="checkbox"><input type="checkbox" id="check1"></td>
                                    </tr>
                                    <!--<tr>
                                        <td style="padding: 3px;"><span>Volume slider</span></td>
                                        <td style="padding: 3px;" class="checkbox"><input type="checkbox" id="check2" checked></td>
                                    </tr>-->
                                    </tbody>
                                </table>
                                <div id="info-box">
                                    <span><b>Create you own customized lay-out</b><br>by dragging individual elements to their desired location.</span>
                                </div>
                            </div>
                            <div id="information" style="display:none;">
                                <span>Double click on a song from the playlist to play<br>Press SPACE to play/pause<br>Press ESCAPE to quick pause<br>Press left/right key to play the previous/next song<br><br><b>Tip!:</b> you can customize your playlist by dragging the desired song to the desired location in your playlist.</span>
                            </div>
                        </div>

                        <div class="flexChild rowParent" style="background: rgba(0,0,0,0.8);margin: 0 auto;width: 83%;position: absolute;right: 0;bottom: 2.5em;padding: 5px;box-sizing: border-box;left: 0;color: #fff;">

                                <div id="rowChild9389" class="flexChild cover">
                                    <div style="width: 300px; height: 300px; background-color: #fff;"></div>
                                </div>

                                <div id="rowChild62910" class="flexChild columnParent" style="padding: 40px;">
                                    <div id="columnChild19213" class="flexChild rowParent" style=" font-weight: bold; font-size: 2.2rem;">
                                        <div id="rowChild71080" class="flexChild">
                                            <ul>
                                                <li class="title-player track-title"></li>
                                                <li class="album-title"></li>
                                                <li class="artist-album artist-name"></li>
                                            </ul>
                                        </div>

                                        <div id="rowChild51864" class="flexChild" style="font-weight: normal">
                                            <ul class="text-right">
                                                <li class="album-artist">Genesis</li>
                                                <li class="track-number">#3/12</li>
                                                <li class="disc">1/1</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div id="columnChild43217" class="flexChild" style=" font-size: 1.6rem;">Rock 1980</div>
                                </div>
                            </div>
                    </div>
                </div>

                <div id="player-wrap" class="flexChild columnParent">

                    <div id="columnChild61360" class="flexChild bottomrail" style="flex: 0 0 auto; height: 20px; background-color: #999;">
                        <div class="progress"></div>
                        <div class="currentrail"></div>
                        <div id="popup" style="display: none;"></div>
                        <div class="handle"></div>
                    </div>

                    <div id="columnChild89727" class="flexChild rowParent">
                        <div id="rowChild32485" class="flexChild currenttime"><span>00:00</span></div>

                        <div id="rowChild28784" class="flexChild audio-player" style=" display: flex; text-align: center; flex-direction: column; justify-content: center;">
                            <div class="controls">
                                <div id="prev" title="Previous song"></div>
                                <div id="play" title="Play song"></div>
                                <div id="pause" title="Pause song"></div>
                                <div id="next" title="Next song"></div>
                                <div id="shuffle" title="Shuffle playlist"></div>
                                <div id="mute" title="Mute audio"></div>
                                <div class="volume">
                                    <div class="current-volume"></div>
                                    <div class="volume-handle"></div>
                                </div>
                            </div>
                            <audio id="mejs" src="dummy" type="audio/wav" onerror="$('#next').click();createGrowl();"></audio>
                        </div>

                        <div id="rowChild6321" class="flexChild text-right duration"><span>00:00</span></div>
                    </div>
                </div>
            </div>

            <div id="qtip-growl-container"></div>

            <script>
                var audioPlayer = document.getElementsByTagName('audio')[0]; // Get 'audio' element

                $('html').MusicServer({
                });

                $('.checkbox input').checkbox({
                    className: 'jquery-switch',
                    checkedClass: 'jquery-switch-on'
                });
            </script>






               {# {% if theme.layout.aside == "left" %}
                    {{ include('partials/_aside.twig') }}
                {% endif %}

                <div class="{% if theme.layout.aside not in ['left', 'right'] %}large-centered{% endif %} large-{{ main_width }} columns">

                    #}{#{{ widgets('main_top') }}#}{#



                    #}{#{{ widgets('main_bottom') }}#}{#

                </div>

                {% if theme.layout.aside == "right" %}
                    {{ include('partials/_aside.twig') }}
                {% endif %}#}
        {% endblock body %}

        {{ include('partials/_footer.twig') }}

        {% block bottomincludes %}
        {% endblock bottomincludes %}
    </body>
</html>
